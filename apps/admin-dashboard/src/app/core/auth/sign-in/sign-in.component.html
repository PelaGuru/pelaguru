<nb-layout>
  <nb-layout-column>
    <div class="card-container">
      <nb-card>
        <nb-card-body [nbSpinner]="isLoading" nbSpinnerStatus="primary">
          <div class="header-container">
            <div class="image-container">
              <div class="image">
                <img
                  src="../../../../assets/img/logo/main-logo.svg"
                  class="img-resp"
                  alt=""
                />
              </div>
            </div>
            <div class="title-container">
              <h5 class="title-text">Admin</h5>
              <p class="sub-title">Log in with your email.</p>
            </div>
          </div>

          <div class="form-container">
            <form
              (submit)="login()"
              [formGroup]="formController"
              aria-labelledby="title"
            >
              <div class="form-control-group">
                <input
                  nbInput
                  fullWidth
                  formControlName="email"
                  id="input-email"
                  placeholder="Email address"
                  fieldSize="medium"
                  autofocus
                  [status]="
                    formController.get('email').dirty
                      ? formController.get('email').invalid
                        ? 'danger'
                        : 'success'
                      : 'basic'
                  "
                  [required]="true"
                  [attr.aria-invalid]="
                    formController.get('email').invalid &&
                    formController.get('email').touched
                      ? true
                      : null
                  "
                />
                <ng-container
                  *ngIf="
                    formController.get('email').invalid &&
                    formController.get('email').touched
                  "
                >
                  <p
                    class="caption status-danger"
                    *ngIf="formController.get('email').hasError('required')"
                  >
                    Email is required.
                  </p>
                  <p
                    class="caption status-danger"
                    *ngIf="formController.get('email').hasError('email')"
                  >
                    Email should be the real one.
                  </p>
                </ng-container>
              </div>

              <div class="form-control-group">
                <input
                  nbInput
                  fullWidth
                  formControlName="password"
                  type="password"
                  id="input-password"
                  placeholder="Password"
                  fieldSize="medium"
                  [status]="
                    formController.get('password').dirty
                      ? formController.get('password').invalid
                        ? 'danger'
                        : 'success'
                      : 'basic'
                  "
                  [required]="true"
                  [attr.aria-invalid]="
                    formController.get('password').invalid &&
                    formController.get('password').touched
                      ? true
                      : null
                  "
                />
                <ng-container
                  *ngIf="
                    formController.get('password').invalid &&
                    formController.get('password').touched
                  "
                >
                  <p
                    class="caption status-danger"
                    *ngIf="formController.get('password').hasError('required')"
                  >
                    Password is required.
                  </p>
                </ng-container>
              </div>
              <div class="forgot-password-container">
                <a
                  class="forgot-password caption-2"
                  routerLink="/account-recovery-request"
                >
                  Forgot Password?
                </a>
              </div>
              <button
                nbButton
                fullWidth
                status="primary"
                size="small"
                [disabled]="submitted || !formController.valid"
                [class.btn-pulse]="submitted"
              >
                Log In
              </button>
            </form>
          </div>
        </nb-card-body>
      </nb-card>
    </div>
  </nb-layout-column>
</nb-layout>
